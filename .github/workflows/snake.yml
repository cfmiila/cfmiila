name: Generate Snake

  on:
    schedule:
      - cron: "0 0 * * *"
    workflow_dispatch:
  
  jobs:
    generate:
      runs-on: ubuntu-latest
      permissions:
        contents: write
  
      steps:
        - name: Generate the snake animation
          uses: Platane/snk@master
          with:
            github_user_name: cfmiila
            svg_out_path: dist/github-contribution-grid-snake.svg
  
        - name: Push to GitHub
          uses: crazy-max/ghaction-github-pages@v3
          with:
            target_branch: output
            build_dir: dist
          env:
            GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
